# ------------------------------------------------------------
# Gramática del lenguaje Setlan
#
# Parte 2, Análisis Sintactico con AST
# CI-3725
# 20/01/2015
#
# Gustavo Siñovsky 09-11207
# Luiscarlo Rivera 09-11020
# ------------------------------------------------------------

S' -> PROGRAMA

PROGRAMA	->	tkPROGRAM INSTRUCCION

INSTRUCCION	-> ASIGNACION
			| ENTRADA
			| SALIDA
			| CONDICIONAL
			|	ITERACION
			| BLOQUE

ENTRADA		->	tkSCAN VARIABLE

SALIDA		->  tkPRINT IMPRIMIBLES
			|	tkPRINTLN IMPRIMIBLES

IMPRIMIBLES	->	IMPRIMIBLE
			|   IMPRIMIBLES tkCOMMA IMPRIMIBLE

IMPRIMIBLE 	-> 	tkSTRING
			|	EXP

BLOQUE		-> 	tkLCURLYBRACKET DECLARACIONES SECUENCIA tkRCURLYBRACKET
			| 	tkLCURLYBRACKET  tkRCURLYBRACKET

DECLARACIONES -> tkUSING DECLARACION tkIN | epsilon

DECLARACION -> TIPO VARIABLES tkSEMICOLON
      | DECLARACION TIPO VARIABLES tkSEMICOLON

VARIABLES -> VARIABLE
			| VARIABLES tkCOMMA VARIABLE 

TIPO -> tkINT
      | tkBOOL
      | tkSET				

CONDICIONAL	-> 	IF LPAR EXP RPAR INSTRUCCION
			|   IF LPAR EXP RPAR INSTRUCCION ELSE INSTRUCCION

ITERACION	->	tkFOR VARIABLE DIRECCION EXP tkDO INSTRUCCION
			|   REPEAT INSTRUCCION WHILE tkLPAR EXP tkRPAR tkDO INSTRUCCION
			|   REPEAT INSTRUCCION WHILE tkLPAR EXP tkRPAR
			|   WHILE tkLPAR EXP tkRPAR tkDO INSTRUCCION

DIRECCION	-> 	tkMIN
			| 	tkMAX

TIPO 		-> 	tkINT
			| tkBOOL
			|	tkSET

VARIABLES 	-> 	VARIABLE
			|	VARIABLES tkCOMMA VARIABLE

SECUENCIA -> INSTRUCCION tkSEMICOLON
  	  | SECUENCIA INSTRUCCION tkSEMICOLON

ASIGNACION	-> 	VARIABLE tkASSIGN EXP

VARIABLE	-> 	tkID

EXP -> tkLPAR EXP tkRPAR
		  | VARIABLE
		  | CONJUNTO
		  | EXPBOOLEANA
		  | EXPARITMETICA
		  | EXPCONJUNTOS

EXPBOOLEANA -> BOOLEANO
	    | EXPBINBOOL
	    | EXPRELACIONAL
	    | UNEXPRBOOL

BOOLEANO -> tkTRUE
  	  | tkFALSE	    

EXPRELACIONAL -> EXP tkEQUAL EXP
	    | EXP tkNOTEQUAL EXP
	    | EXP tkLESS EXP
	    | EXP tkLESSTHAN EXP
	    | EXP tkGREATER EXP
	    | EXP tkGREATERTHAN EXP
	    | EXP tkCONTAINS EXP

EXPBINBOOL -> EXP tkOR EXP
  	  | EXP tkAND EXP

UNEXPRBOOL -> tkNOT EXP  	  

EXPARITMETICA -> EXPBINARIA
	    | EXPRARITMEUNARIA
	    | NUMERO

EXPBINARIA -> EXP tkPLUS EXP
	    | EXP tkMINUS EXP
	    | EXP tkTIMES EXP
	    | EXP tkDIV EXP
	    | EXP tkMOD EXP    

EXPRARITMEUNARIA -> tkMINUS EXP 

NUMERO -> tkNUM

EXPCONJUNTOS -> EXPCONJUNTOSBIN
 		  | EXPCONJUNTOSUNARIA

EXPCONJUNTOSBIN -> EXP tkUNION EXP
	    | EXP tkDIFFERENCE EXP
	    | EXP tkINTERSECTION EXP
	    | EXP tkSETPLUS EXP
	    | EXP tkSETMINUS EXP
	    | EXP tkSETTIMES EXP
	    | EXP tkSETDIV EXP
	    | EXP tkSETMOD EXP    

EXPCONJUNTOSUNARIA -> tkMAXVALUE EXP 
	    | tkMINVALUE EXP 
	    | tkSIZE EXP 

CONJUNTO -> tkLCURLYBRACKET tkRCURLYBRACKET
      | tkLCURLYBRACKET EXPRESIONES tkRCURLYBRACKET    

EXPRESIONES	->	EXP
			|	EXPRESIONES tkCOMMA EXP

CONJUNTO 	-> 	LCURLYBRACKET RCURLYBRACKET
			|	LCURLYBRACKET EXPRESIONES RCURLYBRACKET

EXPRESIONES -> EXPRESIONES tkCOMMA EXP
    | EXP   
     
BOOLEANO	-> 	tkTRUE
			|  	tkFALSE

CONDICIONAL -> tkIF tkLPAR EXP tkRPAR INSTRUCCION %prec THEN
      | tkIF tkLPAR EXP tkRPAR INSTRUCCION tkELSE INSTRUCCION

ITERACION -> tkFOR VARIABLE DIRECCION EXP tkDO INSTRUCCION
    | tkREPEAT INSTRUCCION tkWHILE tkLPAR EXP tkRPAR tkDO INSTRUCCION
    | tkREPEAT INSTRUCCION tkWHILE tkLPAR EXP tkRPAR
    | tkWHILE tkLPAR EXP tkRPAR tkDO INSTRUCCION

DIRECCION -> tkMIN
    | tkMAX    
