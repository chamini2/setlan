# Proyecto 1.
# Tradutores
# Grupo 16
# Betzabeh Gonzalez Canonico: 08-10462
# Andel Nunez 08-10804
 
         #Gramatica Setlan

Inicio de programa
PROGRAMA : TokenProgram INSTRUCCION
         | TokenProgram BLOQUE

BLOQUE : TokenLlaveAbre BLOQUE_DECLS INSTRUCCION TokenPuntoYComa TokenLlaveCier
       | TokenLlaveAbre INSTRUCCION TokenPuntoYComa TokenLlaveCier
       | TokenLlaveAbre TokenLlaveCier

BLOQUE_DECLS : TokenUsing DECLARACIONES TokenIn

DECLARACIONES : TIPO SEC_DECLS TokenPuntoYComa DECLARACIONES
              | TIPO SEC_DECLS TokenPuntoYComa 

TIPO : TokenInt
     | TokenBool
     | TokenSet

SEC_DECLS : VARIABLE TokenComa SEC_DECLS
          | VARIABLE

INSTRUCCION : SEC_INSTRUCCION 
            | ASIGNACION      
            | ENTRADA        
            | SALIDA      
            | CONDICIONAL    
            | ITERADOR_FOR   
            | ITERADOR_WHILE

SEC_INSTRUCCION : INSTRUCCION TokenPuntoYComa INSTRUCCION

ASIGNACION : VARIABLE TokenAsignacion EXPRESIONES

ENTRADA : TokenScan TIPO_ENTRADA

TIPO_ENTRADA : VARIABLE
             | BOOLEAN
             | ENTERO

SALIDA : TokenPrint    SEC_SALIDA
       | TokenPrintln  SEC_SALIDA

SEC_SALIDA : TIPO_SALIDA TokenComa SEC_SALIDA
           | TIPO_SALIDA

TIPO_SALIDA : VARIABLE
            | CONJUNTO
            | BOOLEAN
            | ENTERO
            | STRING

CONDICIONAL : TokenIf CONDICION_BOOL INSTR_COND TokenPuntoYComa
            | TokenIf CONDICION_BOOL TokenElse INSTR_COND TokenPuntoYComa
            | TokenIf CONDICION_BOOL INSTR_COND TokenElse TokenIf CONDICION_BOOL INSTR_COND TokenElse INSTR_COND TokenPuntoYComa

CONDICION_BOOL : TokenParAbre EXPRESIONES TokenParCierra

INSTR_COND : BLOQUE TokenPuntoYComa
           | INSTRUCCION TokenPuntoYComa

ITERADOR_FOR : TokenFor TokenIdent TokenMin TIPO_EXPR_CONJUNTO TokenDo INSTR_ITERADOR
             | TokenFor TokenIdent TokenMax TIPO_EXPR_CONJUNTO TokenDo INSTR_ITERADOR

ITERADOR_WHILE : TokenRepeat INSTR_ITERADOR TokenWhile TokenParAbre EXPRESIONES TokenParCierra TokenDo INSTR_ITERADOR
               | TokenWhile  TokenParAbre EXPRESIONES TokenParCierra TokenDo INSTR_ITERADOR
               | TokenRepeat INSTR_ITERADOR TokenWhile TokenParAbre EXPRESIONES TokenParCierra

INSTR_ITERADOR : BLOQUE      TokenPuntoYComa
               | INSTRUCCION TokenPuntoYComa

EXPRESIONES : EXPRESION_ARITMETICA
            | EXPRE_ARIT_BOOLEAN
            | EXPRE_ARIT_CONJUNTO
            | EXPRE_UNARIA_CONJUNTO
            | EXPRESION_BOOLEAN
            | EXPRESION_CONJUNTO
            | EXPRE_UNARIA
            | ENTERO
            | BOOLEAN
            | VARIABLE

EXPRESION_ARITMETICA : TIPO_EXPR_ARIT  TokenSuma     TIPO_EXPR_ARIT
                     | TIPO_EXPR_ARIT  TokenResta    TIPO_EXPR_ARIT
                     | TIPO_EXPR_ARIT  TokenMult     TIPO_EXPR_ARIT
                     | TIPO_EXPR_ARIT  TokenDivision TIPO_EXPR_ARIT
                     | TIPO_EXPR_ARIT  TokenResto    TIPO_EXPR_ARIT

TIPO_EXPR_ARIT : EXPRESION_ARITMETICA
               | EXPRE_ARIT_PAREN
               | TIPO_ARITMETICO

EXPRE_ARIT_PAREN : TokenParAbre EXPRESION_ARITMETICA TokenParCierra

TIPO_ARITMETICO : ENTERO
                | VARIABLE

EXPRE_UNARIA : TokenResta EXPRESION_ARITMETICA %prec TokenNegEnteros

EXPRE_ARIT_BOOLEAN : TIPO_EXPR_ARIT TokenContenCjto TIPO_EXPR_ARIT
                   | TIPO_EXPR_ARIT TokenIgual      TIPO_EXPR_ARIT
                   | TIPO_EXPR_ARIT TokenDesigual   TIPO_EXPR_ARIT
                   | TIPO_EXPR_ARIT TokenMenor      TIPO_EXPR_ARIT
                   | TIPO_EXPR_ARIT TokenMenorIgual TIPO_EXPR_ARIT
                   | TIPO_EXPR_ARIT TokenMayor      TIPO_EXPR_ARIT
                   | TIPO_EXPR_ARIT TokenMayorIgual TIPO_EXPR_ARIT

EXPRE_ARIT_CONJUNTO : TIPO_ARIT_CJTO_1 TokenSumaCjto     TIPO_ARIT_CJTO_2
                    | TIPO_ARIT_CJTO_1 TokenRestaCjto    TIPO_ARIT_CJTO_2
                    | TIPO_ARIT_CJTO_1 TokenMultCjto     TIPO_ARIT_CJTO_2 
                    | TIPO_ARIT_CJTO_1 TokenDivisionCjto TIPO_ARIT_CJTO_2
                    | TIPO_ARIT_CJTO_1 TokenRestoCjto    TIPO_ARIT_CJTO_2

EXPRE_UNARIA_CONJUNTO : TokenMaxValorCjto TIPO_ARIT_CJTO_2
                      | TokenMinValorCjto TIPO_ARIT_CJTO_2
                      | TokenNumElemCjto  TIPO_ARIT_CJTO_2

TIPO_ARIT_CJTO_1 : VARIABLE
                 | ENTERO

TIPO_ARIT_CJTO_2 : VARIABLE
                 | CONJUNTO

EXPRESION_CONJUNTO : TIPO_EXPR_CONJUNTO TokenUnion        TIPO_EXPR_CONJUNTO
                   | TIPO_EXPR_CONJUNTO TokenDiferencia   TIPO_EXPR_CONJUNTO
                   | TIPO_EXPR_CONJUNTO TokenInterseccion TIPO_EXPR_CONJUNTO

TIPO_EXPR_CONJUNTO : VARIABLE
                   | CONJUNTO

EXPRESION_BOOLEAN : TIPO_EXPR_BOOLEAN TokenAnd TIPO_EXPR_BOOLEAN 
                  | TIPO_EXPR_BOOLEAN TokenOr  TIPO_EXPR_BOOLEAN 
                  | TIPO_EXPR_BOOLEAN TokenNot TIPO_EXPR_BOOLEAN

TIPO_EXPR_BOOLEAN : EXPRESION_BOOLEAN
                  | EXPRE_BOOLEAN_PAREN
                  | TIPO_BOOLEAN

EXPRE_BOOLEAN_PAREN : TokenParAbre EXPRESION_BOOLEAN TokenParCierra

TIPO_BOOLEAN : VARIABLE 
             | BOOLEAN

STRING : TokenString

CONJUNTO : TokenLlaveAbre TokenLlaveCier
         | TokenLlaveAbre TIPO_CONJUNTO TokenLlaveCier
         | TokenLlaveAbre SEC_TIPO_CONJUNTO TokenLlaveCier

SEC_TIPO_CONJUNTO : TIPO_CONJUNTO TokenComa SEC_TIPO_CONJUNTO 
                  | TIPO_CONJUNTO

TIPO_CONJUNTO : VARIABLE
              | ENTERO

BOOLEAN : TokenTrue
        | TokenFalse

ENTERO : TokenNum

VARIABLE : TokenIdent
